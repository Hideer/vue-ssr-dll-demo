# LoadingPage 页面loading遮罩层

### 介绍

页面loading遮罩层

LoadingPage组件支持函数调用和组件调用两种方式

### 函数调用

LoadingPage 是一个函数而不是组件，因此可以直接调用，在页面初始数据返回之前遮罩页面内容

```js
import { LoadingPage } from '@wanwu/base-vue-loading-page';

LoadingPage.show();

setTimeOut(()=>LoadingPage.close(),10000);
```

### 组件调用

通过组件调用 LoadingPage 时，可以通过下面的方式进行注册

```js
import Vue from 'vue';
import LoadingPage from '@wanwu/base-vue-loading-page';

// 全局注册
Vue.use(LoadingPage,{
    closeFn(){
        sendPageLoadTime()
    }
});

// 局部注册
export default {
  components: {
    LoadingPage,
  }
}
```

## 代码演示

### 全局方法

引入 Dialog 组件后，会自动在 Vue 的 prototype 上挂载 $dialog 方法，在所有组件内部都可以直接调用此方法

```js
export default {
  mounted() {
    LoadingPage.show();

    setTimeOut(()=>LoadingPage.close(),10000);
  }
}
```

### 组件调用

如果需要在弹窗内嵌入组件或其他自定义内容，可以使用组件调用的方式

```html
<LoadingPage
  v-model="show"
  loadingText="加载中，请稍后。。。"
>
</LoadingPage>
```

```js
export default {
  data() {
    return {
      show: false
    };
  }
}
```


## API

### use 选项参数

| 参数 | 说明 | 类型 | 默认值 | 版本 |
|------|------|------|------|------|
| closeFn | 关闭时运行的方法，一般为埋点相关方法 | *function* | - | - |

### 方法

| 方法名 | 参数 | 返回值 | 介绍 |
|------|------|------|------|
| LoadingPage.show | `options` string类型时默认为loadingText，object类型时覆盖默认props | - | 遮罩页面 |
| LoadingPage.close | - | `void` | 关闭弹窗 |


### Props

通过组件调用 `LoadingPage` 时，支持以下 Props：

| 参数 | 说明 | 类型 | 默认值 | 版本 |
|------|------|------|------|------|
| v-model | 是否显示遮罩 | *boolean* | - | - |
| size | loading图标尺寸 | *Number* | `100` | - |
| loadingText | 加载中文字提示 | *string* | - | - |
| bgColor | 背景颜色 | *String* |  `#f7f7f7` | - |
| loadType | 加载图标类型,可选项【line,point】 | *string* | `'line'` | -|
| loadingProps | 加载图标属性，详细请查询[base-vue-loading npm地址](http://npm.wanwudezhi.com/package/@wanwu/base-vue-loading) | *string* | `'line'` | -|
