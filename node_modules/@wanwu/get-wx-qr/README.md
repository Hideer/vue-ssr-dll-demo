# getWxQr 生成二维码

### 介绍

生成普通二维码、小程序码

### 基础用法
```
import { getShareCodeImg } from '@wanwu/get-wx-qr';

/**
 * 生成h5二维码
 * shareOption为空时会取页面 updateShareData 设置的值
 */
let options = { h5QRCode: true, shareOption:{ link: '需要生成二维码的链接' } }


/**
 * 生成公众号二维码
 * shareOption为空时会取页面 updateShareData 设置的值
 */
let options = { isQRCode: true, shareOption: {
        image: '进入公众号后收到的卡片图地址'
        pushTarget: '默认值 xcx 表示卡片跳转地址为小程序原生页面, 传其他值时跳小程序webview',
        title: '卡片标题',
        desc: '卡片描述',
        queryStr: 'pushTarget=xcx时使用, 携带到原生页面的参数',
        link: 'pushTarget!=xcx时使用, webview内h5的链接',
    }
}


/**
 * 生成小程序二维码
 * shareOption为空时会取页面 updateShareData 设置的值
 */
 /**
 * 支持配置小程序码或二维码图片
 * @param {object} options
 * @options {object} shareOptions 与当前页面分享配置不同的分享配置对象
 * @options {boolean} skipLogin 是否强制登陆
 * @options {string} pushTarget 分享小程序原生路径还是小程序webview h5路径 ['xcx','h5']
 * @options {number} codeType code码类型 【0:h5二维码,1,小程序码,2:公众号二维码】
 * @options {object} style 二维码样式配置 文档查询  https://www.npmjs.com/package/qrcode
 */
let options = { shareOption: {
        image: '进入小程序后，分享时显示的图片',
        pushTarget: '默认值 xcx 表示卡片跳转地址为小程序原生页面, 传其他值时跳小程序webview',
        title: '进入小程序后，分享时显示的标题',
        desc: '进入小程序后，分享时显示的描述',
        queryStr: 'pushTarget=xcx时使用, 携带到原生页面的参数',
        link: 'pushTarget!=xcx时使用, webview内h5的链接',
    }
}

getShareCodeImg(options).then(res => {
    // res是base64格式的图片
})

```

### 方法

> 所有方法都是async语法实现的Promise方法

#### getShareCodeImg

##### 介绍
可根据不同参数，生成h5、小程序、公众号的二维码。
##### 参数

| 参数 | 类型 | 默认值 |
|------|------|------|
| options | `Object` | - |


<a name="getShareCodeImg"></a>

## getShareCodeImg(options) ⇒ <code>Promise</code>
支持配置小程序码或二维码图片

**Kind**: global function
**Returns**: <code>Promise</code> - 返回promise，resolve 二维码或者小程序码的链接或者base-64

| Param | Type | Description |
| --- | --- | --- |
| options | <code>object</code> |  |
| options.shareOptions | <code>object</code> | 与当前页面分享配置不同的分享配置对象 |
| options.skipLogin | <code>boolean</code> | 是否强制登陆 |
| options.pushTarget | <code>string</code> | 分享小程序原生路径还是小程序webview h5路径 ['xcx','h5'] |
| options.codeType | <code>number</code> | code码类型 【0:h5二维码,1,小程序码,2:公众号二维码】 |
| options.style | <code>object</code> | 二维码样式配置 文档查询  https://www.npmjs.com/package/qrcode |
