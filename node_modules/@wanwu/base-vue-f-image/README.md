# f-image 统一通用图片组件

### 引入

``` javascript
import Vue from 'vue';
import FImage from '@wanwu/base-vue-f-image';

Vue.use(FImage);
```

## 代码演示

### 默认写法
 
``` html
<!--
 * @Descripttion:
 * @version:
 * @Author: taoyeah
 * @Date: 2021-06-21 17:52:06
 * @LastEditors: taoyeah
 * @LastEditTime: 2021-06-30 14:44:33
-->
<template>
    <FImage
        class="imgComp"
        src="https://cdn.wanwudezhi.com/static/web-static/image/24fb937dc95e61c99632368f5340598d_472x833.jpg"
        :width="150"
        :height="100"
        @imgClick="imgClick"
    ></FImage>
    <!-- watermarkString="watermark/1/image/aHR0cDovL3BvcnRhbC1vcmlnaW4ud2Fud3VkZXpoaS5jb20vd2F0ZXJtYXJrX3YxLnBuZw==/dissolve/100/gravity/SouthEast/dx/10/dy/10" -->
</template>

<script>
import FImage from "../../../src/index.vue";
export default {
    name: "Demo",
    components: {
        FImage,
    },
    methods: {
        imgClick(url) {
            console.log(url, "----url----");
        },
    },
};
</script>

```


## API

### Props
# FImage

## Props
> 若cutWidth/cutHeight、 width/height、style中的width/height都没有，会通过error提示。

|Name|Description|Type|Required|Default|
|---|---|---|---|---|
|cutWidth|图片裁剪尺寸宽度|`Number String`|`false`|0|
|cutHeight|图片裁剪尺寸高度|`Number String`|`false`|0|
|width|图片裁剪尺寸宽度和img的style宽度(图片裁剪同cutWidth，但是会在行内样式中添加width)|`Number String`|`false`|''|
|height|图片裁剪尺寸高度和img的style高度(图片裁剪效果同cutHeight，但是会在行内样式中添加height)|`Number String`|`false`|''|
|src|图片地址|`String`|`false`|-|
|alt|图片描述文本|`String`|`false`|-|
|format|图片格式（format不传或者传入webp，则会根据浏览器判断是否支持webp，支持则使用webp，否则自动使用原文件格式；若用户传入非webp格式format，则以用户传入为准）|`String`|`false`|-|
|watermarkString|水印（使用水印后图片的基础处理imageView2无效）|`String`|`false`|-|
|interlace|是否支持渐进显示 取值范围：1 支持渐进显示，0不支持渐进显示(默认为0) 适用jpg目标格式|`Number`|`false`|1|
|quality|生成图片的质量：1-100，适用jpg目标格式|`Number`|`false`|75|
|style|标签行内样式|`Object`|`false`|-|
|lazyLoad|是否开启懒加载|`Boolean`|`false`|true|


## Events

|Event Name|Description|Parameters|
|---|---|---|
|click|点击图片的回调|-|



### 预览地址：
[https://cdn.wanwudezhi.com/static/material/assets/@wanwu/base-vue-f-image/1.0.12/index.html](https://cdn.wanwudezhi.com/static/material/assets/@wanwu/base-vue-f-image/1.0.12/index.html)

### CHANGELOG
+ `1.0.12`  更新日期：2021-09-14，更新者：慕辰
   1. 处理jpg图片转webp在质量q为100时，大小激增的问题；
   2. q质量控制参数默认值改为75%；

+ `1.0.11`  更新日期：2021-08-24，更新者：慕辰
   1. 支持base64图片格式显示；

+ `1.0.10`  更新日期：2021-08-20，更新者：慕辰
   1. 兼容苹果新版本的新的图片格式 heic、heif 不显示的问题；
   
+ `1.0.9`  更新日期：2021-08-16，更新者：慕辰
   1. 新增是否懒加载参数控制；

+ `1.0.8`  更新日期：2021-07-27，更新者：慕辰
   1. 新增 DRP 的最小值 和 remRatio 的最大值控制；
   
+ `1.0.7`  更新日期：2021-07-21，更新者：慕辰
   1. 新增webp格式支持，format不传或者传入webp，则会根据浏览器判断是否支持webp，支持则使用webp，否则自动使用原文件格式；若用户传入非webp格式format，则以用户传入为准；

+ `1.0.6`  更新日期：2021-07-21，更新者：慕辰
   1. 修改组件name值；

+ `1.0.5`  更新日期：2021-07-20，更新者：慕辰
   1. 兼容cut-width/cut-height、width/height、style中width/height的图片裁剪优先级和样式；
   2. 新增v-lazy的初始占位图的尺寸显示控制；
   3. 删除是否使用v-lazy的判断；

+ `1.0.4`  更新日期：2021-07-15，更新者：慕辰
   1. 图片format默认值修改，根据用户图片默认后缀；

+ `1.0.3`  更新日期：2021-07-15，更新者：慕辰
   1. 添加部分需求是否支持的 v-lazy 的处理；

+ `1.0.2`  更新日期：2021-07-13，更新者：慕辰
   1. 添加 image 的 height 和 width 支持；
   2. 取消 img 的根据 width和 height 对 style 的处理；
   3. 添加 cutWidth、cutHeight 来区分 width 和 height；
   4. 取消没有 cutWidth、cutHeight 时自动获取 style中width 和 height 的处理；

+ `1.0.1`  更新日期：2021-07-08，更新者：慕辰
   1. 修复通过读取style的尺寸的精度损失，造成图片裁剪尺寸误差的问题；

+ `1.0.0`  更新日期：2021-06-30，更新者：慕辰
   1. 图片组件开发；