
## 曝光打点指令

### 全局注册

```
import logDirective from '@wanwu/base-vue-directive-log';
Vue.use(logDirective);
// 参数：
isAlive: 是否敏感的，重复上报能力; 当节点移除再进入视觉，再次上报
isRigorous: 是否严格的；只有当节点出现在视区内才上报，反之，节点挂载就上报
```

### 用法
```
<!-- 不带参数 -->
// 默认和客户端保持一致。支持 严格上报/重复上报 能力
v-log-exposure="{ event: 'listShow', data: { type: 1, sortIndex: 3 } }"

<!-- 待参数形式 -->
v-log-exposure:[{isAlive:true,isRigorous:false}] = "{ event: 'listShow', data: { type: 1, sortIndex: 3 } }"
```

### 使用注意点
1. 技术点问题：
    1. 指令时机问题
    2. 事件未及时卸载（keep-alive）
    3. 汇总统一上报？
2. 业务问题：
    1. 业务方需要怎么样的曝光数据？实用度有多少？
    2. 如果用户重复滑动，那么在满足曝光条件的基础上，曝光次数要一直增加么？
    3. 为了统计的更加准确，能不能在所有页面的模块加曝光埋点？性能、数据准确的权衡



// old
<!-- old Start -->
滚动不会反复曝光，对于keep alive的项目actived时不会反复曝光。因为指令是在bind时push到待曝光数组，曝光结束后移除，所以只有在再次bind时才会重新曝光
建议用lazycomponent代替
<!-- old end -->
### TODO
1. 用户停留一定时间后才上报（15s?）
2. 用指令整合曝光和点击上报的逻辑（便于计算对应CTR）曝光和点击相辅相成

