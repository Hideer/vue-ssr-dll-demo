# http-request
一个http请求库

## 说明

http请求库，目前是基于axios的简单封装。

httpClient是一个不包含业务的基类，可以基于此类，封装出针对不同业务的实例。

提供了封装 h5昆仑网关的 httpClient 实例。

打包时会使用顶象混淆插件，如果打包失败请检查顶象服务是否过期。

`升级0.1.90版本时，如果自定义了 window.ENCRYPT_KEY， 务必在kl_request初始化之前赋值，否则会出现请求校验失败。`

[代码仓库](https://code.aliyun.com/PlayGoods-FE/wanwu-base-vue)

## 昆仑网关基本用法

```javascript
import kl_request from '@wanwu/http-request';
kl_request.post(path[, params[, config]]));

// params 兼容 { params:{} } 格式
params = {
	...
}

// config参数说明
config = {
	withoutCancelToken: true, // 本次请求不会被实例的cancel()取消
	fingerprint: true, // header会增加字段 deviceToken 设备指纹
	withoutToken: true, // 请求不会携带token
	encrypt: true, // 请求的数据会被加密
	skipLogin: true, // 接口返回未登录时 不跳转登录页
}

```

## 切换接口host
url添加参数 `__env`=develop,pre 切换不同环境,不加参数默认为prod

## mock数据
url添加参数 `__mock=1` 将开启mock



