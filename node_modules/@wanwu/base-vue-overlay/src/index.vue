<template>
    <transition
        name="wanwu-fade"
        @afterEnter="$emit('opened')"
        @afterLeave="$emit('closed')"
    >
        <div
            v-if="value"
            class="component__overlay overlay"
            style="z-index: 3000;"
            :style="overlayStyle"
            @click="click"
        ></div>
    </transition>
</template>

<script>
    export default {
        name: 'Overlay',
        components: {},
        props: {
            value: {
                type: Boolean,
                default: false,
            },
            overlayStyle: {
                type: [
                    Object,
                    String,
                ],
            },
            onClick: {
                type: Function,
            },
        },
        data() {
            return {};
        },

        computed: {},
        methods: {
            click() {
                this.onClick && this.onClick();
                this.$emit('click');
            },
        },
    };
</script>

<style lang='less' scoped>
.component__overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
}

@keyframes wanwu-fade-in {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes wanwu-fade-out {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
    }
}

.wanwu-fade-enter-active {
    animation: wanwu-fade-in 0.3s both ease;
}

.wanwu-fade-leave-active {
    animation: wanwu-fade-out 0.3s both ease;
}
</style>
