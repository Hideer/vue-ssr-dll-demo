# tabs 基础 标签页

### 引入

``` javascript
import Vue from 'vue';
import { Tabs, TabsPane } from '@wanwu/base-vue-tabs';

Vue.use(Tabs);
Vue.use(TabsPane);
```

## 代码演示

### 切换动画

通过animated属性可以开启切换标签内容时的转场动画
 
``` html
<template>
    <div class="demo__block">
        <h2
            class="demo__title"
        >
            切换动画
        </h2>
        <Tabs
            v-model="active"
            animated
        >
            <TabsPane
                v-for="i in 4"
                :key="i"
                :label="`标签${i}`"
                :name="i"
            >
                <div class="custom__tabs_content">
                    内容 {{ i }}
                </div>
            </TabsPane>
        </Tabs>
    </div>
</template>

<script>
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                active: 0,
            };
        },
    };
</script>

```
### 基础用法

通过v-model绑定当前激活标签对应的name值
 
``` html
<template>
    <div class="demo__block">
        <h2 class="demo__title">
            基础用法
        </h2>
        <Tabs
            v-model="active"
            @change="onChange"
        >
            <TabsPane
                v-for="i in 4"
                :key="i"
                :label="`标签${i}`"
                :name="i"
            >
                <div class="custom__tabs_content">
                    内容 {{ i }}
                </div>
            </TabsPane>
        </Tabs>
    </div>
</template>

<script>
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                active: 0,
            };
        },
        methods: {
            onChange(val) {
                console.log('标签' + val);
                // alert('标签' + val);
            },
        },
    };
</script>

```
### 固定定位 & 标签宽度自适应 & type:newModel新样式规范

通过fixed设置固定定位，top设置定位位置，top类型为Number，单位为rem<br>
通过tabAutoWidth设置标签宽度自适应<br>
type设为newModel应用新样式规范，包含特殊下划线

 
``` html
<template>
    <div class="demo__block">
        <Tabs
            v-model="active"
            fixed
            tab-auto-width
            :custom-tabbar-style="{ zIndex: 3000 }"
            style="z-index: 3000;"
            use-slot-line
            type="newModel"
            @change="onChange"
        >
            <TabsPane
                v-for="i in 10"
                :key="i"
                :label="`标签${i}`"
                :name="i"
            >
                <div class="custom__tabs_content">
                    绝对定位-内容 {{ i }}
                </div>
            </TabsPane>
        </Tabs>
    </div>
</template>

<script>
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                active: 0,
            };
        },
        methods: {
            onChange(val) {
                console.log('标签' + val);
                // alert('标签' + val);
            },
        },
    };
</script>

```
### 支持传入图片和阿里图标

通过type传入icon匹配。TabsPane传入iconImage匹配图片iconFont匹配阿里图标

 
``` html
<template>
    <div class="demo__block">
        <h2
            class="demo__title"
        >
            传入图片
        </h2>
        <Tabs
            v-model="active"
            animated
            type="icon"
        >
            <TabsPane
                v-for="i in 8"
                :key="i"
                :label="`标签${i}`"
                :name="i"
                icon-image="https://cdn.wanwudezhi.com/static/web-static/image/415e58fb43960f46f3de2535044105fa_213x200.png"
            >
                <div class="custom__tabs_content">
                    内容 {{ i }}
                </div>
            </TabsPane>
        </Tabs>
        <h2
            class="demo__title"
        >
            传入阿里图标
        </h2>
        <Tabs
            v-model="activeIcon"
            animated
            type="icon"
            :icon-style="{ fontSize: '0.36rem' }"
        >
            <TabsPane
                v-for="i in 4"
                :key="i"
                :label="`标签${i}`"
                :name="i"
                icon-font="WWDZ ww-icon-jianlou"
            >
                <div class="custom__tabs_content">
                    内容 {{ i }}
                </div>
            </TabsPane>
        </Tabs>
    </div>
</template>

<script>
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                active: 0,
                activeIcon: 0,
            };
        },
    };
</script>

```
### 标签栏滚动

标签数量超过 4 个时，标签栏可以在水平方向上滚动，切换时会自动将当前标签居中
 
``` html
<template>
    <div class="demo__block">
        <h2 class="demo__title">
            标签栏滚动
        </h2>
        <Tabs v-model="active">
            <TabsPane
                v-for="i in 8"
                :key="i"
                :label="`标签${i}`"
                :name="i"
            >
                <div class="custom__tabs_content">
                    内容 {{ i }}
                </div>
            </TabsPane>
        </Tabs>
    </div>
</template>

<script>
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                active: 0,
            };
        },
    };
</script>

```
### 滚动导航

scrollpy属性控制是否开启滚动导航
 
``` html
<template>
    <div class="demo__block">
        <h2 class="demo__title">
            滚动导航
        </h2>
        <Tabs
            v-model="active"
            scrollspy
            sticky
            :offset-top="88"
            show-all
            @change="onChange"
        >
            <TabsPane
                v-for="i in 8"
                :key="i"
                :label="`标签${i}`"
                :name="i"
            >
                <div v-if="i !== 1" class="custom__tabs_content">
                    内容 {{ i }}
                </div>
                <Tabs
                    v-else
                    v-model="subActive"
                    sticky
                    :offset-top="176"
                    :custom-tabbar-style="{
                        zIndex: 900,
                    }"
                    :tabbar-animate="false"
                >
                    <TabsPane
                        v-for="j in 2"
                        :key="j"
                        :label="`标签${j}`"
                        :name="j"
                    >
                        <div class="custom__tabs_content">
                            子内容 {{ j }}
                        </div>
                    </TabsPane>
                </Tabs>
            </TabsPane>
        </Tabs>
    </div>
</template>

<script>
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                active: 0,
                subActive: 0,
            };
        },
        methods: {
            onChange(val) {
                // console.log('标签' + val);
                // alert('标签' + val);
            },
        },
    };
</script>
<style lang="less" scoped>
.custom__tabs_content {
    height: 300.8px;
}
</style>

```
### 查看全部

showAll设置为true时，标签栏右边展示下拉按钮，点击查看全部标签
 
``` html
<template>
    <div class="demo__block">
        <h2 class="demo__title">
            查看全部
        </h2>
        <Tabs
            v-model="active"
            sticky
            show-all
        >
            <TabsPane
                v-for="i in 8"
                :key="i"
                :label="`标签${i}`"
                :name="i"
            >
                <div class="custom__tabs_content">
                    内容 {{ i }}
                </div>
            </TabsPane>
        </Tabs>
    </div>
</template>

<script>
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                active: 0,
            };
        },
    };
</script>

<style lang="less" scoped>
.nav__left,
.nav__right {
    display: flex;
    align-items: center;
    font-size: 24px;
    color: #fff;
    background-color: green;
    padding: 0 10px;
}
</style>

```
### 查看全部

showAllStyle设置样式
 
``` html
<template>
    <div class="demo__block">
        <h2 class="demo__title">
            查看全部自定义样式
        </h2>
        <Tabs
            v-model="active"
            sticky
            show-all
            type="newModel"
            :custom-tabbar-style="{
                backgroundColor: '#faf3dd',
            }"
            :custom-tab-style="{
                color: '#646464',
            }"
            :custom-line-style="{
                color: '#646464',
            }"
            :show-all-style="{
                customIconStyle: 'color: #646464; width:0.8rem;',
                bgColor: ['rgba(125, 14, 14, 1)', 'rgba(125, 14, 14, 0)'],
                customPopupStyle: {
                    popupStyle: 'background-color: #faf3dd;',
                    tabStyle: {
                        backgroundColor: '#fff',
                        color: '#ddd',
                    },
                    tabActiveStyle: {
                        color: '#646464',
                    },
                },
            }"
        >
            <TabsPane
                v-for="i in 8"
                :key="i"
                :label="`标签${i}`"
                :name="i"
            >
                <div class="custom__tabs_content">
                    内容 {{ i }}
                </div>
            </TabsPane>
        </Tabs>
    </div>
</template>

<script>
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                active: 0,
            };
        },
    };
</script>

```
### 粘性布局

通过sticky属性开启粘性布局，Tab滚动到顶部时会自动吸顶，可以通过top传值指定固定的位置与页面顶部的距离
 
``` html
<template>
    <div class="demo__block">
        <h2 class="demo__title">
            粘性布局
        </h2>
        <Tabs
            v-model="active"
            sticky
            :top="0.88"
            :offset-top="88"
        >
            <div
                slot="nav-left"
                class="nav__left"
            >
                左
            </div>
            <div
                slot="nav-right"
                class="nav__right"
            >
                右
            </div>
            <TabsPane
                v-for="i in 4"
                :key="i"
                :label="`标签${i}`"
                :name="i"
            >
                <div class="custom__tabs_content">
                    内容 {{ i }}
                </div>
            </TabsPane>
        </Tabs>
    </div>
</template>

<script>
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                active: 0,
            };
        },
    };
</script>

<style lang="less" scoped>
.nav__left,
.nav__right {
    display: flex;
    align-items: center;
    font-size: 24px;
    color: #fff;
    background-color: green;
    padding: 0 10px;
}
</style>

```
### 自定义样式

通过 custom-active-style、custom-tabbar-style、custom-tab-style、custom-line-style 控制标签选中样式、标签栏样式、标签页样式、下划线样式
 
``` html
<template>
    <div class="demo__block">
        <h2 class="demo__title">
            自定义样式
        </h2>
        <Tabs
            v-model="active"
            :custom-active-style="{ color: 'blue' }"
            :custom-tabbar-style="{ height: '1.2rem' }"
            :custom-tab-style="{ color: 'green' }"
            :custom-line-style="{ backgroundColor: 'blue' }"
        >
            <TabsPane
                v-for="i in 4"
                :key="i"
                :label="`标签${i}`"
                :name="i"
            >
            </TabsPane>
        </Tabs>
    </div>
</template>

<script>
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                active: 0,
            };
        },
    };
</script>

```
### 滑动切换

通过swipeable属性可以开启滑动切换标签页
 
``` html
<template>
    <div class="demo__block">
        <h2 class="demo__title">
            滑动切换
        </h2>
        <Tabs
            v-model="active"
            swipeable
            :before-change="beforeTabChange"
        >
            <TabsPane
                v-for="i in 4"
                :key="i"
                :label="`标签${i}`"
                :name="i"
            >
                <div class="custom__tabs_content">
                    内容 {{ i }}
                </div>
            </TabsPane>
        </Tabs>
    </div>
</template>

<script>
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                active: 0,
            };
        },
        methods: {
            async beforeTabChange(index) {
                console.log(123123);
                // await new Promise((resolve, reject) => {
                //     setTimeout(() => {
                //         if (index % 2 !== 0) {
                //             console.log('嘿 就不给跳');
                //             reject(new Error(111));
                //         } else {
                //             console.log('跳!');
                //             resolve();
                //         }
                //     }, 1500);
                // });

                if (index % 2 !== 0) {
                    console.log('嘿 就不给跳');
                    return false;
                } else {
                    console.log('跳!');
                    return true;
                }
            },
        },
    };
</script>

```
### 样式风格

Tab支持两种样式风格：line和card，默认为line样式，可以通过type属性修改样式风格
 
``` html
<template>
    <div class="demo__block">
        <h2 class="demo__title">
            样式风格
        </h2>
        <Tabs
            v-model="active"
            type="card"
        >
            <TabsPane
                v-for="i in 4"
                :key="i"
                :label="`标签${i}`"
                :name="i"
            >
            </TabsPane>
        </Tabs>
    </div>
</template>

<script>
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                active: 0,
            };
        },
    };
</script>

```


## API

### Tabs Props

| 参数 | 说明 | 类型 | 默认值 | 版本 |
|------|------|------|------|------|
| v-model | 当前标签的name值 | `String` `Number` | `0` | - |
| duration | 激活标签下方的线条动画时间，单位秒 | `Number` | `0.3` | - |
| shouldAnimate | 激活标签下方的线条是否开启动画 | `Boolean` | `true` | - |
| tabHeight | 标签占位高度，单位750px设计稿标注高度 | `Number` | `80` | - |
| sticky | 是否使用粘性定位布局 | `Boolean` | `false` | - |
| top | 粘性定位布局下与顶部的距离，单位rem | `Number` | `0` | - |
| swipeThreshold | 滚动阈值，标签数量超过阈值时开始横向滚动 | `Number` | `4` | - |
| swipeable | 是否开启手势滑动切换 | `Boolean` | `false` | 2.1.8 |
| animated | 是否开启切换标签内容时的转场动画 | `Boolean` | `false` | 2.1.8 |
| type | 样式风格类型，可选值为card、icon、newModel(新的样式规范，包含下划线样式) | `String` | `line` | - |
| customTabbarStyle | 自定义标签栏样式 | `Object` | `{}` | - |
| customTabStyle | 自定义标签页样式 | `Object` | `{}` | - |
| customActiveStyle | 自定义选中样式 | `Object` | `{}` | - |
| customLineStyle | 自定义下划线样式 | `Object` | `{}` | - |
| fillScreen | 是否自动填充吸顶时content的高度 | `Boolean` | `false` | - |
| offsetTop | 距离页面指定到的距离时候吸顶，单位为750宽设计稿px | `Number` | - | - |
| delay | 是否开启延迟切换 | `Boolean` | `false` | - |
| iconStyle | icon类型的图片样式 | `String` | `‘’` | - |
| showAll | 是否开启查看全部功能 | `Boolean` | `false` | 2.1.18 |
| fixed | 固定定位（top可设置固定位置距页面顶部距离，传入offsetTop设置固定位置距页面头部（+appHeaderHeight）距离，top优先） | `Boolean` | `false` | 2.1.19 |
| tabAutoWidth | 标签宽度自适应 | `Boolean` | `false` | 2.1.19 |
| useSlotLine | type === 'newModel' 默认开启特殊下划线样式 | `Boolean` | `true` | 2.1.19 |
| scrollspy | 是否开启滚动导航 | `Boolean` | `false` | 2.1.21 |
| hiddenBar | 是否隐藏标签栏 | `Boolean` | `false` | 2.1.27 |
| scrollspyAnimate | 是否开启滚动导航动画 | `Boolean` | `true` | 2.1.27 |
| isStickyAlways | 始终吸顶，不跟随内容离开页面 | `Boolean` | `false` | 2.1.28 |
| showAllStyle | 查看全部功能样式设置 | `Object` | `{}` | 2.1.29 |
| splitLine | 分割线 ｜ `Boolean` | `false` | 2.1.35 |
| scrollToTopOnChange | 在吸顶并切换tab时滚动条是否自动滚动到顶部 ｜ `Boolean` | `true` | 2.1.43 |

#### showAllStyle
``` javascript
{
    customIconStyle: 'color: #646464;', // 图标样式
    bgColor: ['rgba(255,255,255,1)', 'rgba(255,255,255,0)'], // 背景颜色（透明渐变）支持数组传入右往左起始颜色跟结束颜色['rgba(255,255,255,1)', 'rgba(255,255,255,0)']（仅支持rgba格式，ios无法使用transparent做透明渐变）
    hiddenBg: true, // 隐藏背景
    customPopupStyle: { // 弹窗样式
        popupStyle: 'background-color: #faf3dd;', // 设置弹窗背景色
        tabStyle: { // 弹窗内标签样式，类型Object
            backgroundColor: '#fff',
            color: '#ddd',
        },
        tabActiveStyle: { // 标签选中样式
            color: '#646464',
        },
    },
}
```


### TabsPane Props

| 参数 | 说明 | 类型 | 默认值 |
|------|------|------|------|
| name | 标签的值 | `String` `Number` | - |
| label | 标签的标题 | `String` | - |
| iconImage | 传入图片 | `String` | - |
| iconFont | 传入阿里图标 | `String` | - |

### Tabs Slots

| 名称 | 说明 |
|------|------|
| line | 自定义下划线 |
| nav-left | 标签栏左边内容 |
| nav-right | 标签栏右边内容 |

### TabsPane Slots

| 名称 | 说明 |
|------|------|
| default | 标签页内容 |
| tab | 自定义标签 |

### Tabs Events

| 事件名 | 说明 | 回调参数 |
|------|------|------|
| click | 点击标签时触发 | name：标题 |
| change | 当前激活的标签改变时触发 | name：标题 |
| onFixed | 滚动时触发 | isFixed：是否吸顶 |

### 预览地址：
[https://cdn.wanwudezhi.com/static/material/assets/@wanwu/base-vue-tabs/2.1.44/index.html](https://cdn.wanwudezhi.com/static/material/assets/@wanwu/base-vue-tabs/2.1.44/index.html)

### CHANGELOG
* 日期：2021.02.26 作者：美丽 版本：2.1.41 内容：修复下划线定位不准确问题；新增 splitLine 分割线样式；修复 icon 模式下标签栏滚动失效问题；修复全部弹窗点击切换时滚动定位失效问题；修复嵌套使用时标签栏滚动定位不准确问题
* 日期：2020.12.28 作者：美丽 版本：2.1.32 内容：解决嵌套使用时滚动导航定位问题
* 日期：2020.12.22 作者：美丽 版本：2.1.31 内容：解决嵌套使用时样式污染问题
* 日期：2020.12.14 作者：美丽 版本：2.1.30 内容：新增showAllStyle，控制查看全部样式
* 日期：2020.10.28 作者：美丽 版本：2.1.28 内容：新增isStickyAlways，控制吸顶
* 日期：2020.09.21 作者：美丽 版本：2.1.27 内容：新增hiddenBar标签栏隐藏控制、scrollspyAnimate滚动导航动画控制
* 日期：2020.08.07 作者：美丽 版本：2.1.22 内容：修复样式问题
* 日期：2020.08.06 作者：美丽 版本：2.1.21 内容：新增scrollspy滚动导航功能，修复tabs-bar类名重复问题，优化吸顶状态消失时标签栏离开效果
* 日期：2020.07.30 作者：美丽 版本：2.1.20 内容：新增fixed控制定位、tabAutoWidth标签宽度适应、useSlotLine默认插槽样式、type:newModel新样式规范
* 日期：2020.07.22 作者：美丽 版本：2.1.18 内容：新增showAll属性，控制标签栏右侧查看全部按钮的显示
* 日期：2021.06.24 作者：潺湲 版本：2.1.42 内容：迁移至女娲
* 日期：2021.06.29 作者：潺湲 版本：2.1.43 内容：增加scrollToTopOnChange，控制tab在吸顶时切换tab，滚动条是否滚动到顶部
