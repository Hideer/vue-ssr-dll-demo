# 玩物H5分享配置工具

## 起步

### 安装

```
npm i @wanwu/base-share
```

### 引入

```js
import Share from '@wanwu/base-share'
```


## Functions

<dl>
<dt><a href="#updateShareData">updateShareData(options)</a></dt>
<dd><p>更新页面分享配置，缓存分享配置对象</p>
</dd>
<dt><a href="#getShareOptions">getShareOptions(options)</a> ⇒ <code>object</code></dt>
<dd><p>生成分享配置对象，处理link，生成分享准确的分享链接，
这个方法可以认为是一个内部方法，
一般不建议直接调用，可以用<code>getCacheShareOptions</code>方法</p>
</dd>
<dt><a href="#getCacheShareOptions">getCacheShareOptions(options)</a> ⇒ <code>object</code></dt>
<dd><p>生成当前页面缓存的分享配置对象，或者在不影响页面级别分享配置下，生成分享配置对象</p>
</dd>
<dt><a href="#hideShareMenu">hideShareMenu()</a></dt>
<dd><p>隐藏微信分享菜单中的按钮，效果有问题，不建议使用</p>
</dd>
<dt><a href="#showShareMenu">showShareMenu()</a></dt>
<dd><p>显示微信分享菜单中的按钮，效果有问题，不建议使用</p>
</dd>
<dt><a href="#miniProgramPostMessage">miniProgramPostMessage(data)</a></dt>
<dd><p>在用户触发分享或者其他会向小程序通信的钩子后，向小程序传输数据</p>
</dd>
</dl>

<a name="updateShareData"></a>

## updateShareData(options)
更新页面分享配置，缓存分享配置对象

**Kind**: global function

| Param | Type | Description |
| --- | --- | --- |
| options | <code>object</code> |  |
| options.title | <code>string</code> | 页面分享标题 |
| options.desc | <code>string</code> | 页面分享描述 |
| options.link | <code>string</code> | 页面分享链接 |
| options.imgUrl | <code>string</code> | 页面分享小图 |

<a name="getShareOptions"></a>

## getShareOptions(options) ⇒ <code>object</code>
生成分享配置对象，处理link，生成分享准确的分享链接，
这个方法可以认为是一个内部方法，
一般不建议直接调用，可以用`getCacheShareOptions`方法

**Kind**: global function
**Returns**: <code>object</code> - shareOptions 分享配置对象
{title,desc,link,imgUrl}

| Param | Type | Description |
| --- | --- | --- |
| options | <code>object</code> |  |
| options.title | <code>string</code> | 页面分享标题 |
| options.desc | <code>string</code> | 页面分享描述 |
| options.link | <code>string</code> | 页面分享链接 |
| options.imgUrl | <code>string</code> | 页面分享小图 |

<a name="getCacheShareOptions"></a>

## getCacheShareOptions(options) ⇒ <code>object</code>
生成当前页面缓存的分享配置对象，或者在不影响页面级别分享配置下，生成分享配置对象

**Kind**: global function
**Returns**: <code>object</code> - cacheShareOptions 缓存再处理的，或者基于新的配置生成的分享对象
{title,desc,link,imgUrl,`page`,`queryStr`}  [page,queryStr是专为分享小程序生成的属性]

| Param | Type | Description |
| --- | --- | --- |
| options | <code>object</code> |  |
| options.title | <code>string</code> | 分享标题 |
| options.desc | <code>string</code> | 分享描述 |
| options.link | <code>string</code> | 分享链接 |
| options.imgUrl | <code>string</code> | 分享小图 |

<a name="hideShareMenu"></a>

## hideShareMenu()
隐藏微信分享菜单中的按钮，效果有问题，不建议使用

**Kind**: global function
<a name="showShareMenu"></a>

## showShareMenu()
显示微信分享菜单中的按钮，效果有问题，不建议使用

**Kind**: global function
<a name="miniProgramPostMessage"></a>

## miniProgramPostMessage(data)
在用户触发分享或者其他会向小程序通信的钩子后，向小程序传输数据

**Kind**: global function

| Param | Type | Description |
| --- | --- | --- |
| data | <code>object</code> | 需要传给小程序的值 |

