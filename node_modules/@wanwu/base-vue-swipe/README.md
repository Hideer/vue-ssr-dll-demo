# swipe swipe

### 引入

``` javascript
import { Swipe, SwipeItem } from '@wanwu/base-vue-swipe';

```

## 代码演示

### 横向滚动  --  Banner

 
``` html
<template>
    <Swipe
        class="Swipe"
        :autoplay="4000"
        @change="changeSwipe"
    >
        <template v-for="(item, index) in bannerDetailMap">
            <SwipeItem
                class="SwipeItem"
                :key="item.img.url+''+index"
                v-if="item.img"
                :offsetNum="200"
            >
                <lazyComponent
                    type="LiveBanner"
                    :noRecycle="true"
                >
                    <img
                        class="SwipeItem__image"
                        v-lazy:[item.img]="getRectangleImageWithWidth(item.img.url,750,'png')"
                    />
                </lazyComponent>
            </SwipeItem>
        </template>
    </Swipe>
</template>

<script>
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                bannerDetailMap: JSON.parse('[{"img":{"width":1125,"url":"https://cdn.wanwudezhi.com/seller-admin/image/MTU5NzU2OTY0MzA5Mg==614_1125x411.jpg","height":411},"agentTraceInfo_":"{\\"elementId\\":71,\\"sourceId\\":5718,\\"sourceName\\":\\"8.17-24曼哈顿\\"}","friendImg":null,"jumpUrl":"https://m.wanwudezhi.com/page/cdafdbf8-fcf0-4331-9da3-ecd9741a15b8/1?entry=zbtjjdt","shareImg":null},{"img":{"width":1125,"url":"https://cdn.wanwudezhi.com/seller-admin/image/MTU5NzM5Mjg5NzI5OA==778_1125x411.png","height":411},"agentTraceInfo_":"{\\"elementId\\":71,\\"sourceId\\":5692,\\"sourceName\\":\\"8.17 101757\\"}","friendImg":null,"jumpUrl":"zdwh://wwdz/live/room?roomId=101757&entry=zbtjjdt","shareImg":null},{"img":{"width":1125,"url":"https://cdn.wanwudezhi.com/seller-admin/image/MTU5NzM5Mjk1OTM5Mg==444_1125x411.png","height":411},"agentTraceInfo_":"{\\"elementId\\":71,\\"sourceId\\":5693,\\"sourceName\\":\\"8.17 101362\\"}","friendImg":null,"jumpUrl":"zdwh://wwdz/live/room?roomId=101362&entry=zbtjjdt","shareImg":null},{"template":"","img":{"width":1125,"url":"https://cdn.wanwudezhi.com/seller-admin/image/MTU5NzAyNDczOTA2NA==706_1125x411.jpg","height":411},"appId":"","agentTraceInfo_":"{\\"elementId\\":71,\\"sourceId\\":5544,\\"sourceName\\":\\"8.10 新店开业\\"}","friendImg":null,"jumpUrl":"https://m.wanwudezhi.com/page/fe8e148e-4951-4cb0-8a1f-c672c374a549","shareImg":null}]'),
            }
        },
        methods: {
            changeSwipe(active){
                console.log(active);
            }
        }
    };
</script>
<style>
    .Swipe {
        width: 100%;
        .SwipeItem{
            width: 100%;
            height: 260px;
            &__image{
                width: 100%;
                height: 260px;
                display: block;
                object-fit: cover;
            }
        }
    }
</style>

```
### 横向滚动  -- 消息轮播

 
``` html
<template>
    <Swipe
        class="message__swiper"
        :autoplay="3000"
        :show-indicators="false"
        vertical
        :touchable="false"
    >
        <SwipeItem
            v-for="(item, index) in messageVo"
            :key="index"
        >
            <div class="message__wrap flex f-ai-c">
                <div class="flex f-ai-c">
                    <img class="list__info--icon" :class="{'list__info--iconMargin':item.avatarList.length===1}" v-lazy="getSquareImage(data,36)" v-for="(data,index) in item.avatarList" :key="index"/>
                </div>
                <div class="message__text">{{item.title}}</div>
            </div>
        </SwipeItem>
    </Swipe>
</template>

<script>
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                messageVo: [
                    {
                        "avatarList": [
                            "https://cdn.wanwudezhi.com/mall-portal/image/26102547_MTU5NjgwNzg1ODMxOA==760_640x640.jpg"
                        ],
                        "title": "星云等人加入了「茶友圈」",
                        "jumpUrl": "https://h5.wanwudezhi.com/community-web/community/circle?circleId=127"
                    },
                    {
                        "avatarList": [
                            "https://cdn.wanwudezhi.com/mall-portal/image/3440106_MTU4NzMwOTI4MzgwMA==_1620x1080.jpg"
                        ],
                        "title": "淘茶吧等人在「茶友圈」互动讨论",
                        "jumpUrl": "https://h5.wanwudezhi.com/community-web/community/circle?circleId=127"
                    },
                    {
                        "avatarList": [
                            "https://cdn.wanwudezhi.com/mall-portal/image/3440106_MTU4NzMwOTI4MzgwMA==_1620x1080.jpg"
                        ],
                        "title": "淘茶吧等人正参与话题「茶酒买家秀」",
                        "jumpUrl": "https://h5.wanwudezhi.com/mall-web/community/topic?topicId=145"
                    },
                ],
            }
        },
    };
</script>
<style>
.message__swiper{
    width: 100%;
    height: 60px;
}
.message__wrap{
    width: 100%;
    background: rgba(220,220,220,1);
    padding: 0 20px;
    color: #2E333B;
    font-size: 26px;
    height: 100%;
    border-radius: 4px;
}
.list__info--icon{
    width: 36px;
    height: 36px;
    border:1px solid rgba(239,239,240,1);
    border-radius: 50%;
    vertical-align: middle;
}
.message__text{
    max-width: 510px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
</style>

```
### 纵向手动切换  --  上下滑动切换直播间

 
``` html
<template>
        <Swipe
            :style="{height: screenHeightPx}"
            vertical
            :show-indicators="false"
            :distance="100"
            @change="swipeChange"
        >
            <SwipeItem class="SwipeItem">
            </SwipeItem>
            <SwipeItem class="SwipeItem">
            </SwipeItem>
            <SwipeItem class="SwipeItem">
            </SwipeItem>
        </Swipe>
</template>

<script>
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                screenHeightPx: '400px',
            }
        },
        created () {
            let h = document.documentElement.clientHeight || document.body.clientHeight;
            this.screenHeightPx = h + 'px';
            window.onresize = () => {
                let h = document.documentElement.clientHeight || document.body.clientHeight;
                this.screenHeightPx = h + 'px';
            };
        },
        methods: {
            swipeChange() {
                let h = document.documentElement.clientHeight || document.body.clientHeight;
                this.screenHeightPx = h + 'px';
            }
        }
    };
</script>
<style>
    #app{
        padding: 0 !important;
    }
    .SwipeItem{
        width: 100%;
        height: 100%;
        background: url("https://cdn.wanwudezhi.com/static/web-static/image/1eb017d32df820c80cc98618f5c73c19_1125x2436.png");
        background-size: 100% 100%;
    }
    input{
        width: 100%;
        height: 100px;
        position: fixed;
        bottom: 0;
        background-color: #FFF !important;
        z-index: 11111111111111111;
    }
</style>

```


## API

### Props

| 参数 | 说明 | 类型 | 默认值 | 版本 |
|------|------|------|------|------|
|width|宽度| *Number* | 0 | - |
|height|高度| *Number* | 0 | - |
|autoplay|自动播放 - ms | *Number* | 0 | - |
|vertical|是否纵向| *Boolean* | false | - |
|initialSwipe|从第几个开始轮播| *Number* | 0 | - |
|showIndicators|是否展示指示器| *Boolean* | true | - |
|indicatorColor|指示器的颜色| *String* | '#EA313E' | - |
|loop|是否循环| *Boolean* | true | - |
|touchable|是否可滑动| *Boolean* | true | - |
|duration|切换速度| *Number* | 500 | - |
|showFullScreenIcon| 是否展示全屏按钮(直播强制不展示) | *Boolean* | false | - |
|distance| 手动切换时切换下一个的距离 | *Number* | 0 | - |


### Events

| 事件名 | 说明 | 回调参数 |
|------|------|------|
| change | item切换 | active |

### CHANGELOG


日期：2020.08.14<br>
版本：1.0.5-beta.6<br>
作者：慕时<br>
内容：添加直播、mp4等video播放场景<br>

