# canvas2image canvas绘制图片

### 使用指南

#### 简易使用--drawImage方法
H5可以使用这个方法简化使用，设置了默认dpr为3，设置了fontSizeBase
```javascript
import {drawImage} from '@wanwu/canvas2image'
drawImage({ width, height, canvasConfig }, { exportImage, dpr }).then(imgBase64=>{
    ...
})
```

#### Canvas2Image类
```javascript
import {Canvas2Image} from '@wanwu/canvas2image'
const canvas = document.createElement('canvas');
const canvas2Image = new Canvas2Image({canvas,ctx,getDownloadImage,exportImage});
canvas2Image.draw(canvasConfig).then(img =>{
    ...
})
```

#### 设置dpr使导出图片更清晰
```js
...
const dpr = 3;
// 设定 canvas 元素属性宽高为 DOM 节点宽高 * 像素比
canvas.width = config.width * dpr;
canvas.height = config.height * dpr;
// 设定 canvas css宽高为 DOM 节点宽高
canvas.style.width = `${config.width}px`;
canvas.style.height = `${config.height}px`;
// 获取画笔
const ctx = canvas.getContext('2d');
// 将所有绘制内容放大像素比倍
dpr !== 1 && ctx.scale(dpr, dpr);
// 在new Canvas2Image时传入dpr
const canvas2Image = new Canvas2Image({canvas, ctx, getDownloadImage, exportImage, dpr});
canvas2Image.draw(canvasConfig).then(img =>{
    ...
})
```

#### 在使用了flexble的项目中需要给出字体fontsize的基数以便图片字体大小显示正确

```js
...
const doc = window.document;
const docEl = doc.documentElement;
const rem = docEl.getAttribute('data-rem');
const computedRem = docEl.getAttribute('data-computed-rem');
const fontSizeBase = computedRem / rem;
const canvas2Image = new Canvas2Image(canvas, ctx, getDownloadImage, exportImage, dpr, fontSizeBase);
canvas2Image.draw(canvasConfig).then(img =>{
    ...
})
```

## 代码演示

### 项目中最多的用法

 
``` html
<template>
    <div class="demo">
        <img
            :src="imageBase64"
            class="img"
        >
    </div>
</template>

<script>
    import {
        drawImage,
    } from '../../../src/index.js';
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                imageBase64: '',
                config: {
                    width: 580,
                    height: 1000,
                    canvasConfig: [
                        {
                            image: "https://cdn.wanwudezhi.com/seller-admin/image/MTU5MTI1NzA1OTI3NjI3OTE5NA==.jpg",
                            position: [0, 0],
                            size: [580, 1000],
                        },
                        {
                            image: "https://cdn.wanwudezhi.com/seller-admin/image/MTU1MjYzMTI5ODU3MQ==.png",
                            backgroundColor: "#fff",
                            position: [30, 28],
                            size: [88, 88],
                            borderRadius: 44,
                            padding: 4,
                        },
                        {
                            text: "JYC",
                            color: "#000",
                            position: [138, 40],
                            fontSize: 28,
                        },
                        {
                            image: "https://cdn.wanwudezhi.com/static/web-static/image/5ddd97609e861f5f3c6142b874c875cd_196x196.png",
                            position: [40, 780],
                            size: [160, 160],
                        },
                    ],
                },
            };
        },
        created() {
            drawImage(this.config).then(imageBase64 => {
                this.imageBase64 = imageBase64;
            });
        },
    };
</script>
<style lang="less" scoped>
.demo {
    .img {
        width: 100%;
    }
}
</style>

```
### 绘制文字相关的配置

 
``` html
<template>
    <div class="demo">
        <img
            :src="imageBase64"
            class="img"
        >
    </div>
</template>

<script>
    import {
        drawImage,
    } from '../../../src/index.js';
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                imageBase64: '',
                config: {
                    width: 500,
                    height: 200,
                    canvasConfig: [
                        {
                            position: [0, 0],
                            backgroundColor: '#FFF',
                            size: [500, 200],
                        },
                        // 文字
                        {
                            text: '绘制文字：单行文字自动省略（金卡蒋介石电话卡）',
                            fontSize: 28,
                            color: "#000",
                            lineHeight: 40,
                            textAlign: "left",
                            position: [0, 30],
                            maxWidth: 500,
                            line: 1,
                        },
                        // 自适应的多段文字，基于数组类型多段文字的封装,支持整体的 textAlign
                        //  positionX是中心坐标的x
                        // 每项的position的x值都是类似margin的一个间距值
                        {
                            textList: [
                                {
                                    text: "多段文字",
                                    fontSize: 24,
                                    color: "#EA313E",
                                    position: [30, 100],
                                },
                                {
                                    text: "整体居中",
                                    fontSize: 24,
                                    color: "#EA313E",
                                    position: [8, 100],
                                },
                                {
                                    text: "positionX=0",
                                    fontSize: 24,
                                    color: "#000",
                                    position: [8, 100],
                                },
                            ],
                            textAlign: 'center',
                            positionX: 0,
                        },
                        // positionX不传的就是canvas画布的中间
                        {
                            textList: [
                                {
                                    text: "多段文字",
                                    fontSize: 24,
                                    color: "#EA313E",
                                    position: [30, 130],
                                },
                                {
                                    text: "整体居中",
                                    fontSize: 24,
                                    color: "#EA313E",
                                    position: [8, 130],
                                },
                                {
                                    text: "没有positionX",
                                    fontSize: 24,
                                    color: "#000",
                                    position: [8, 130],
                                },
                            ],
                            textAlign: 'center',
                        },
                    ],
                },
            };
        },
        created() {
            drawImage(this.config).then(imageBase64 => {
                this.imageBase64 = imageBase64;
            });
        },
    };
</script>
<style lang="less" scoped>
.demo {
    .img {
        width: 100%;
    }
}
</style>

```
### 绘制按钮列表的配置
按钮宽度按照内容宽度自适应
> 目前没有特地支持单个的按钮类型，需要类似按钮的尺寸自适应效果，可以传入长度为1的button

 
``` html
<template>
    <div class="demo">
        <img
            :src="imageBase64"
            class="img"
        >
    </div>
</template>

<script>
    import {
        drawImage,
    } from '../../../src/index.js';
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                imageBase64: '',
                config: {
                    width: 500,
                    height: 200,
                    canvasConfig: [
                        {
                            position: [0, 0],
                            backgroundColor: '#fff',
                            size: [500, 200],
                        },
                        // 按钮列表
                        {
                            button: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map(item => {
                                return {
                                    text: '按钮' + "(" + item + ")",
                                    backgroundColor: "#F9F2E6",
                                    padding: 20,
                                    lineHeight: 36,
                                    maxWidth: 460,
                                    color: "#AC7D2F",
                                    borderRadius: 18,
                                    fontSize: 18,
                                };
                            }),
                            maxWidth: 400,
                            lineHeight: 36,
                            position: [20, 20],
                            line: 3,
                            marginRight: 10,
                            marginBottom: 16,
                        },
                    ],
                },
            };
        },
        created() {
            drawImage(this.config).then(imageBase64 => {
                this.imageBase64 = imageBase64;
            });
        },
    };
</script>
<style lang="less" scoped>
.demo {
    .img {
        width: 100%;
    }
}
</style>

```
### 绘制图片的配置

 
``` html
<template>
    <div class="demo">
        <img
            :src="imageBase64"
            class="img"
        >
    </div>
</template>

<script>
    import {
        drawImage,
    } from '../../../src/index.js';
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                imageBase64: '',
                config: {
                    width: 500,
                    height: 200,
                    // 越在后面，图层越靠上
                    canvasConfig: [
                        {
                            image: "https://cdn.wanwudezhi.com/seller-admin/image/MTU1MjYzMTI5ODU3MQ==.png",
                            position: [0, -200],
                            size: [500, 500],
                        },
                    ],
                },
            };
        },
        created() {
            drawImage(this.config).then(imageBase64 => {
                this.imageBase64 = imageBase64;
            });
        },
    };
</script>
<style lang="less" scoped>
.demo {
    .img {
        width: 100%;
    }
}
</style>

```
### 一条配置中支持同时绘制颜色、图片和文字
> 图层层级为：颜色<图片<文字

 
``` html
<template>
    <div class="demo">
        <img
            :src="imageBase64"
            class="img"
        >
    </div>
</template>

<script>
    import {
        drawImage,
    } from '../../../src/index.js';
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                imageBase64: '',
                config: {
                    width: 500,
                    height: 200,
                    canvasConfig: [
                        {
                            position: [0, 0],
                            backgroundColor: '#FFF',
                            size: [500, 200],
                        },
                        {
                            image: "https://cdn.wanwudezhi.com/seller-admin/image/MTU1MjYzMTI5ODU3MQ==.png",
                            backgroundColor: "#F7CA74",
                            position: [30, 28],
                            size: [150, 150],
                            borderRadius: 75,
                            padding: 20,
                            text: '文字',
                            fontSize: 28,
                            color: "#000",
                        },
                    ],
                },
            };
        },
        created() {
            drawImage(this.config).then(imageBase64 => {
                this.imageBase64 = imageBase64;
            });
        },
    };
</script>
<style lang="less" scoped>
.demo {
    .img {
        width: 100%;
    }
}
</style>

```
### 绘制多个内容，自动排列
> 支持所有内容的左对齐、右对齐、居中对齐

 
``` html
<template>
    <div class="demo">
        <img
            :src="imageBase64"
            class="img"
        >
    </div>
</template>

<script>
    import {
        drawImage,
    } from '../../../src/index.js';
    export default {
        name: 'Demo',
        components: {},
        data() {
            return {
                imageBase64: '',
                config: {
                    width: 600,
                    height: 300,
                    canvasConfig: [
                        {
                            position: [0, 0],
                            backgroundColor: '#FFF',
                            size: [600, 300],
                        },
                        {
                            position: [30, 28],
                            size: [600, 300],
                            textAlign: 'right',
                            list: [
                                {
                                    text: "绘制",
                                    fontSize: 24,
                                    color: "#000",
                                    position: [0, 60],
                                },
                                // 按钮列表
                                {
                                    button: [1, 2, 3, 4].map(item => {
                                        return {
                                            text: '按钮' + "(" + item + ")",
                                            backgroundColor: "#F9F2E6",
                                            padding: 20,
                                            lineHeight: 36,
                                            maxWidth: 460,
                                            color: "#AC7D2F",
                                            borderRadius: 18,
                                            fontSize: 18,
                                        };
                                    }),
                                    maxWidth: 250,
                                    lineHeight: 36,
                                    position: [20, 60],
                                    line: 3,
                                    marginRight: 10,
                                    marginBottom: 16,
                                },
                                {
                                    image: "https://cdn.wanwudezhi.com/seller-admin/image/MTU1MjYzMTI5ODU3MQ==.png",
                                    position: [0, 60],
                                    size: [100, 100],
                                },
                                {
                                    image: "https://cdn.wanwudezhi.com/seller-admin/image/MTU1MjYzMTI5ODU3MQ==.png",
                                    backgroundColor: "#F7CA74",
                                    position: [30, 60],
                                    size: [150, 150],
                                    borderRadius: 75,
                                    padding: 20,
                                    text: '文字',
                                    fontSize: 28,
                                    color: "#000",
                                },
                            ],
                        },
                    ],
                },
            };
        },
        created() {
            drawImage(this.config).then(imageBase64 => {
                this.imageBase64 = imageBase64;
            });
        },
    };
</script>
<style lang="less" scoped>
.demo {
    .img {
        width: 100%;
    }
}
</style>

```


## API详细文档
### @wanwu/canvas2image

* [@wanwu/canvas2image](#module_@wanwu/canvas2image)
    * [.Canvas2Image](#module_@wanwu/canvas2image.Canvas2Image)
        * [new exports.Canvas2Image(options)](#new_module_@wanwu/canvas2image.Canvas2Image_new)
        * [.setDpr(dpr)](#module_@wanwu/canvas2image.Canvas2Image+setDpr)
        * [.setFontSizeBase(fontSizeBase)](#module_@wanwu/canvas2image.Canvas2Image+setFontSizeBase)
        * [.getCanvasSize()](#module_@wanwu/canvas2image.Canvas2Image+getCanvasSize) ⇒ <code>Object</code>
        * [.draw(canvasConfig)](#module_@wanwu/canvas2image.Canvas2Image+draw) ⇒ <code>Promise.&lt;string&gt;</code>
    * [.getDownloadImage](#module_@wanwu/canvas2image.getDownloadImage) ⇒ <code>Promise.&lt;HTMLImageElement&gt;</code>
    * [.drawImage(config, options)](#module_@wanwu/canvas2image.drawImage) ⇒ <code>Promise.&lt;string&gt;</code>
    * [.default](#module_@wanwu/canvas2image--module.exports.default)
        * [new exports.default(canvas, ctx, getDownloadImage, exportImage, dpr, fontSizeBase)](#new_module_@wanwu/canvas2image--module.exports.default_new)

<a name="module_@wanwu/canvas2image.Canvas2Image"></a>

### @wanwu/canvas2image.Canvas2Image
Canvas2Image类（default导出兼容写法的父类，方法由这个类实现）
建议使用这个类（对象类型的参数接收方式更合理）

**Kind**: static class of [<code>@wanwu/canvas2image</code>](#module_@wanwu/canvas2image)

* [.Canvas2Image](#module_@wanwu/canvas2image.Canvas2Image)
    * [new exports.Canvas2Image(options)](#new_module_@wanwu/canvas2image.Canvas2Image_new)
    * [.setDpr(dpr)](#module_@wanwu/canvas2image.Canvas2Image+setDpr)
    * [.setFontSizeBase(fontSizeBase)](#module_@wanwu/canvas2image.Canvas2Image+setFontSizeBase)
    * [.getCanvasSize()](#module_@wanwu/canvas2image.Canvas2Image+getCanvasSize) ⇒ <code>Object</code>
    * [.draw(canvasConfig)](#module_@wanwu/canvas2image.Canvas2Image+draw) ⇒ <code>Promise.&lt;string&gt;</code>

<a name="new_module_@wanwu/canvas2image.Canvas2Image_new"></a>

#### new exports.Canvas2Image(options)
生成一个canvas2Image实例


| Param | Type | Description |
| --- | --- | --- |
| options | <code>Object</code> |  |
| options.canvas | <code>HTMLCanvasElement</code> | canvas元素对象 |
| options.ctx | <code>CanvasRenderingContext2D</code> | canvas元素对象的ctx |
| options.getDownloadImage | <code>function</code> | 下载图片的方法，需要导出可供canvas直接绘制的图片方法--默认是h5下载图片方法 |
| options.exportImage | <code>function</code> | canvas导出图片方法，默认canvas.toDataURL('image/png') |
| options.dpr | <code>Number</code> | canvas画布的dpr |
| options.fontSizeBase | <code>Number</code> | 绘制字体大小的基数 |

**Example**
```js
import { Canvas2Image } from '@wanwu/canvas2image'
```
<a name="module_@wanwu/canvas2image.Canvas2Image+setDpr"></a>

#### canvas2Image.setDpr(dpr)
设置canvas画布的dpr

**Kind**: instance method of [<code>Canvas2Image</code>](#module_@wanwu/canvas2image.Canvas2Image)

| Param | Type |
| --- | --- |
| dpr | <code>number</code> |

<a name="module_@wanwu/canvas2image.Canvas2Image+setFontSizeBase"></a>

#### canvas2Image.setFontSizeBase(fontSizeBase)
设置canvas画布字体fontSize的倍数（和flexable相关）

**Kind**: instance method of [<code>Canvas2Image</code>](#module_@wanwu/canvas2image.Canvas2Image)

| Param | Type | Default |
| --- | --- | --- |
| fontSizeBase | <code>number</code> | <code>1</code> |

<a name="module_@wanwu/canvas2image.Canvas2Image+getCanvasSize"></a>

#### canvas2Image.getCanvasSize() ⇒ <code>Object</code>
获取canvas画布的宽高（去除dpr影响后的）

**Kind**: instance method of [<code>Canvas2Image</code>](#module_@wanwu/canvas2image.Canvas2Image)
**Returns**: <code>Object</code> - {width,height}
<a name="module_@wanwu/canvas2image.Canvas2Image+draw"></a>

#### canvas2Image.draw(canvasConfig) ⇒ <code>Promise.&lt;string&gt;</code>
根据canvasConfig绘制图片并导出base64

**Kind**: instance method of [<code>Canvas2Image</code>](#module_@wanwu/canvas2image.Canvas2Image)
**Returns**: <code>Promise.&lt;string&gt;</code> - 返回图片base64字符串（如果new class时传入了exportImage，则返回exportImage对应的返回值)

| Param | Type |
| --- | --- |
| canvasConfig | <code>Object</code> |

<a name="module_@wanwu/canvas2image.getDownloadImage"></a>

### @wanwu/canvas2image.getDownloadImage ⇒ <code>Promise.&lt;HTMLImageElement&gt;</code>
获取下载图片

**Kind**: static property of [<code>@wanwu/canvas2image</code>](#module_@wanwu/canvas2image)
**Returns**: <code>Promise.&lt;HTMLImageElement&gt;</code> - img对象实例

| Param | Type | Description |
| --- | --- | --- |
| url | <code>string</code> | 图片地址 |

<a name="module_@wanwu/canvas2image.drawImage"></a>

### @wanwu/canvas2image.drawImage(config, options) ⇒ <code>Promise.&lt;string&gt;</code>
根据canvas2image配置导出base64字符串

**Kind**: static method of [<code>@wanwu/canvas2image</code>](#module_@wanwu/canvas2image)
**Returns**: <code>Promise.&lt;string&gt;</code> - base64字符串

| Param | Type | Description |
| --- | --- | --- |
| config | <code>Opject</code> | canvas画图配置 |
| config.width | <code>number</code> | canvas画布宽度 |
| config.height | <code>number</code> | canvas画布高度 |
| config.canvasConfig | <code>Array.&lt;Object&gt;</code> | canvas2Image画图配置 |
| options | <code>Opject</code> | canvas2Image配置 |
| options.exportImage | <code>function</code> | canvas导出图片方法，默认canvas.toDataURL('image/png') |
| options.dpr | <code>Number</code> | canvas画布的dpr |

<a name="module_@wanwu/canvas2image.default"></a>

### @wanwu/canvas2image.default
兼容老写法，不建议使用（参数列表过长了，新类接收对象类型的参数，更好用）

**Kind**: static class of [<code>@wanwu/canvas2image</code>](#module_@wanwu/canvas2image)
<a name="new_module_@wanwu/canvas2image--module.exports.default_new"></a>

#### new exports.default(canvas, ctx, getDownloadImage, exportImage, dpr, fontSizeBase)
生成一个canvas2Image实例，继承自父类[@wanwu/canvas2image.Canvas2Image](#module_@wanwu/canvas2image.Canvas2Image)

| Param | Type | Description |
| --- | --- | --- |
| canvas | <code>HTMLCanvasElement</code> | canvas元素对象 |
| ctx | <code>CanvasRenderingContext2D</code> | canvas元素对象的ctx |
| getDownloadImage | <code>function</code> | 下载图片的方法，需要导出可供canvas直接绘制的图片方法--默认是h5下载图片方法 |
| exportImage | <code>function</code> | canvas导出图片方法，默认canvas.toDataURL('image/png') |
| dpr | <code>Number</code> | canvas画布的dpr |
| fontSizeBase | <code>Number</code> | 绘制字体大小的基数 |

###  canvasConfig 属性详解
canvasConfig 是一个数组类型数据，描述了绘制canvas图片的信息，数组的每一项类型为`Object`

#### 文字类型的可选配置：text <code>String</code>
| Param | Type | Description |
| --- | --- | --- |
| text | <code>String</code> | 文本内容 |
| line | <code>Number</code> | 文本的最大行数，配合`maxWidth`实现多行文本限制行数，超出时显示`...` |
| lineHeight | <code>Number</code> | 文本行高，配合`line`和`maxWidth` |
| maxWidth | <code>Number</code> | 文本最大宽度的最大宽度，超出时`...`显示 |
| position | <code>Array&lt;number&gt;</code> | 文字位置，按照ui搞左上角作为基准，示例：`[0, 0]`|
| baseLine | <code>String</code> | 文本的基线，不设置默认在有`lineHeight`时为 `'middle'`，否则为`top`，baseLine可选值为canvas的text baseLine可选值 |
| textAlign | <code>String</code> | 文本对齐方式（left、right、center） |
| fontSize | <code>Number</code> | 文本字体大小 |
| color | <code>String</code> | 字体颜色（需是canvas支持的值） |
| lineThrough | <code>Boolean</code> | 文字是否需要删除线，商品分享需要原价删除线时可以使用 |
| padding | <code>Number</code> | 一般会在设置背景颜色后使用，文本类型影响左右内边距，上下通过lineHeight来配置，需要设置`size` |
| size | <code>Array&lt;number&gt;</code> | 绘制单元（图片或者按钮等块状）的尺寸，示例：`[0, 0]`|
| fontWeight | <code>String</code><code>Boolean</code> | 字重，true时，是bold，String时可以用bolder |
| fontFamily | <code>String</code> | 不建议使用（需要先手动加载字体文件，很容易出错） |

#### 多段文字类型的可选配置：textList `Array<TextConfig>`
| Param | Type | Description |
| --- | --- | --- |
| textList | `Array<TextConfig>` | 多段文字的配置项数组，每一项是text的配置 |
| textAlign | `left|right|center` | 多段文字整体的对齐方式 |
| positionX | `Number` | 多段文字整体的对齐的基准位置（横向的，暂不支持纵向的对齐，一般也不需要） |

> textList的每一项的position是有一个特殊的理解的，position[0]是基于前一项的横向位移，position[1]是自由的，也就是，多段横向自适应排布的文字，纵向其实是不相关的（原因：因为多段文字的场景，一般字体样式是不一样的，也就是大小可能不一样，需要给以开发者自己排版的全力，所以多段文字，主要的位置排布，是每一项单独管理的）

#### 图片类型的可选配置：image <code>String</code>

| Param | Type | Description |
| --- | --- | --- |
| image | <code>String</code> | img url |
| position | <code>Array&lt;number&gt;</code> | 图片位置，按照ui搞左上角作为基准，示例：`[0, 0]`|
| size | <code>Array&lt;number&gt;</code> | 绘制单元（图片或者按钮等块状）的尺寸，示例：`[0, 0]`|
| borderRadius | <code>Number</code> | 圆角边框 **当size数组两个数值相等且borderRadius为这个值得一半时**，画 正圆形 |
| padding | <code>Number</code> | 一般会在设置背景颜色后使用，文本类型影响左右内边距，上下通过lineHeight来配置，需要设置`size` |

#### 按钮组类型的可选配置：button <code>Array</code>
| Param | Type | Description |
| --- | --- | --- |
| button | <code>Array</code> | 一般会在设置背景颜色后使用，文本类型影响左右内边距，上下通过lineHeight来配置，图片类型影响所有内边距可以用来画边框 |
| maxWidth | <code>Number</code> | 按钮块(类似店铺分享图的店铺印象)的最大宽度 |
| position | <code>Array&lt;number&gt;</code> | 绘制单元的位置，按照ui搞左上角作为基准，示例：`[0, 0]`|
| line | <code>Number</code> | 按钮列表的最大行数 |
| marginRight | <code>Number</code> | 按钮块的右边距 |
| marginBottom | <code>Number</code> | 按钮块的下边距 |

#### 背景颜色相关的可选配置：backgroundColor `String<color>`
| Param | Type | Description |
| --- | --- | --- |
| backgroundColor | <code>String&lt;color&gt;</code> | 绘制单元的底色（背景色），可选值为canvas支持的颜色字符串|
| position | <code>Array&lt;number&gt;</code> | 绘制单元的位置，按照ui搞左上角作为基准，示例：`[0, 0]`|
| size | <code>Array&lt;number&gt;</code> | 绘制单元（图片或者按钮等块状）的尺寸，示例：`[0, 0]`|
| borderRadius | <code>Number</code> | 圆角边框 **当size数组两个数值相等且borderRadius为这个值得一半时**，画 正圆形 |

#### 多段混合绘制单元的可选配置：list `Array<configItem>`
| Param | Type | Description |
| --- | --- | --- |
| list | `Array<configItem>` | 多段混合绘制单元的配置项数组，每一项是可以是不同的绘制单元，`backgroundColor|image|button|text|textList`都支持 |
| textAlign | `left|right|center` | 多段文字整体的对齐方式 |
| positionX | `Number` | 多段文字整体的对齐的基准位置（横向的，暂不支持纵向的对齐，一般也不需要） |

> 和textList一样，list的position也是每一项单独管理的

#### 对象的所有可配置属性

| Param | Type | Description |
| --- | --- | --- |
| image | <code>String</code> | img url |
| position | <code>Array&lt;number&gt;</code> | 绘制单元的位置，按照ui搞左上角作为基准，示例：`[0, 0]`|
| size | <code>Array&lt;number&gt;</code> | 绘制单元（图片或者按钮等块状）的尺寸，示例：`[0, 0]`|
| text | <code>String</code> | 文本内容 |
| backgroundColor | <code>String</code> | 背景颜色（需是canvas支持的值） |
| baseLine | <code>String</code> | 文本的基线，不设置默认在有`lineHeight`时为 `'middle'`，否则为`top`，baseLine可选值为canvas的text baseLine可选值 |
| fontSize | <code>Number</code> | 文本字体大小 |
| lineHeight | <code>Number</code> | 文本行高 |
| maxWidth | <code>Number</code> | 文本最大宽度或者按钮块(类似店铺分享图的店铺印象)的最大宽度 |
| color | <code>String</code> | 字体颜色（需是canvas支持的值） |
| line | <code>Number</code> | 文本或者按钮列表的最大行数 |
| borderRadius | <code>Number</code> | 圆角边框 **当size数组两个数值相等且borderRadius为这个值得一半时**，画 正圆形 |
| padding | <code>Number</code> | 一般会在设置背景颜色后使用，文本类型影响左右内边距，上下通过lineHeight来配置，图片类型影响所有内边距可以用来画边框 |
| marginRight | <code>Number</code> | 按钮块的右边距（仅按钮块支持） |
| marginBottom | <code>Number</code> | 按钮块的下边距（仅按钮块支持） |
| positionX | <code>Number</code> | textList或者list的x焦点 |
| fontWeight | <code>String</code><code>Boolean</code> | 字重，true时，是bold，String时可以用bolder |
| fontFamily | <code>String</code> | 不建议使用（需要先手动加载字体文件，很容易出错） |
| lineThrough | <code>Boolean</code> | 文字是否需要删除线，商品分享需要原价删除线时可以使用 |
| button | <code>Array</code> | 一般会在设置背景颜色后使用，文本类型影响左右内边距，上下通过lineHeight来配置，图片类型影响所有内边距可以用来画边框 |
| textList | <code>Array</code> | 自适应的多段文字，基于数组类型多段文字的封装,支持整体的 textAlign ， positionX |
| textAlign | <code>String</code> | 文本对齐方式（left、right、center） |
| fontFamily | <code>String</code> | 不建议使用（需要先手动加载字体文件，很容易出错） |


### 预览地址：
[https://cdn.wanwudezhi.com/static/material/assets/@wanwu/canvas2image/2.1.3/index.html](https://cdn.wanwudezhi.com/static/material/assets/@wanwu/canvas2image/2.1.3/index.html)
