'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

require('core-js/modules/es.object.to-string');
require('core-js/modules/es.promise');

var copyText = function copyText(content) {
  return new Promise(function (resolve, reject) {
    var input = document.createElement('textarea');

    try {
      input.setAttribute('readonly', 'readonly');
      input.style.position = 'fixed';
      input.style.top = '-9999px';
      input.style.left = '-9999px';
      input.value = content;
      document.body.appendChild(input);
      input.select();
      input.setSelectionRange(0, 9999);
      var res = document.execCommand('copy');

      if (res) {
        resolve();
      } else {
        reject(new Error('复制内容失败'));
      }
    } catch (err) {
      reject(err);
    }

    document.body.removeChild(input);
  });
};

copyText.install = function (Vue) {
  Vue.prototype.$copyText = copyText;
  Vue.copyText = copyText;
};

exports.default = copyText;
